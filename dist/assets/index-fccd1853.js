var t=Object.defineProperty,e=(e,s,i)=>(((e,s,i)=>{s in e?t(e,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[s]=i})(e,"symbol"!=typeof s?s+"":s,i),i);!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver((t=>{for(const s of t)if("childList"===s.type)for(const t of s.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)})).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),"use-credentials"===t.crossOrigin?e.credentials="include":"anonymous"===t.crossOrigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}();class AbsComponentManager{constructor(t){this.components={},this.componentsClassList={},this.nodeAttributeSelector=(null==t?void 0:t.nodeAttributeSelector)||AbsComponentManager.DEFAULT_NODE_ATTRIBUTE_SELECTOR}registerComponent(t,e){this.componentsClassList[t]=e}initComponents(){try{document.querySelectorAll(`[${this.nodeAttributeSelector}]`).forEach((t=>{const e=t.getAttribute(this.nodeAttributeSelector);if(null===e)throw["[ABS] The following node's component data attribute value is null:",t];if(void 0===this.componentsClassList[e])throw`[ABS] Component initializer error: component "${e}" is not registered`;void 0===this.components[e]&&(this.components[e]=[]);const s=new(0,this.componentsClassList[e])(t);s.init(),this.components[e].push(s)})),Object.keys(this.components).forEach((t=>{this.components[t].forEach((t=>{t.ready&&t.ready()}))}))}catch(t){Array.isArray(t)?console.error(...t):console.error(t)}}initComponent(t){try{const e=t.getAttribute(this.nodeAttributeSelector);if(null===e)throw["[ABS] The following node's component data attribute value is null:",t];if(void 0===this.componentsClassList[e])throw`[ABS] Component initializer error: component "${e}" is not registered`;void 0===this.components[e]&&(this.components[e]=[]);const s=new(0,this.componentsClassList[e])(t);s.init(),this.components[e].push(s),s.ready&&s.ready()}catch(e){Array.isArray(e)?console.error(...e):console.error(e)}}getComponentByNode(t){let e=null;const s=t.getAttribute(this.nodeAttributeSelector);if(s&&this.components[s]){const i=this.components[s].find((e=>e.node===t));i&&(e=i)}return e}destroyComponent(t){Object.keys(this.components).forEach((e=>{if(this.components[e].find((e=>e===t))){t.node.querySelectorAll(`[${this.nodeAttributeSelector}]`).forEach((t=>{const e=this.getComponentByNode(t);e&&this.destroyComponent(e)})),t.destroy&&t.destroy(),t.node.remove();const s=this.components[e].indexOf(t);this.components[e].splice(s,1)}}))}purgeComponentsList(){Object.keys(this.components).forEach((t=>{this.components[t].forEach((t=>{const e=t.node.getAttribute(this.nodeAttributeSelector);Boolean(document.querySelector(`[${this.nodeAttributeSelector}="${e}"]`))||this.destroyComponent(t)}))}))}}AbsComponentManager.DEFAULT_NODE_ATTRIBUTE_SELECTOR="data-abs-component";const s={gradient:{steps:[]}},i=[{colorCode:"000000",position:0},{colorCode:"FFFFFF",position:100}],r="gradientchange";class GradientGeneratorComponent{constructor(t){e(this,"STEPS_LIST_SELECTOR",".gradient-generator-step-list"),e(this,"STEP_SELECTOR",".gradient-generator-step-list-item"),e(this,"STEP_COLOR_PREVIEW_SELECTOR",".gradient-generator-step-color-preview"),e(this,"STEP_COLOR_INPUT_SELECTOR",".gradient-generator-step-color-hex-input"),e(this,"STEP_POSITION_INPUT_SELECTOR",".gradient-generator-step-position-input"),e(this,"DELETE_STEP_BUTTON_SELECTOR",".gradient-generator-step-control-delete"),e(this,"ADD_STEP_BUTTON_SELECTOR",".gradient-generator-control-add"),e(this,"STEP_ITEM_TEMPLATE_SELECTOR",".template#step-item-template>*"),e(this,"GRADIENT_IMPORT_VIEW_SELECTOR",".gradient-generator-view-import"),e(this,"GRADIENT_IMPORT_VIEW_OPEN_BUTTON_SELECTOR",".gradient-generator-control-import"),e(this,"GRADIENT_IMPORT_VIEW_CLOSE_BUTTON_SELECTOR",".gradient-generator-view-import-close"),e(this,"GRADIENT_IMPORT_INPUT_SELECTOR",".gradient-generator-view-import-input"),e(this,"GRADIENT_IMPORT_BUTTON_SELECTOR",".gradient-generator-view-import-action"),e(this,"GRADIENT_EXPORT_VIEW_SELECTOR",".gradient-generator-view-export"),e(this,"GRADIENT_EXPORT_VIEW_OPEN_BUTTON_SELECTOR",".gradient-generator-control-export"),e(this,"GRADIENT_EXPORT_VIEW_CLOSE_BUTTON_SELECTOR",".gradient-generator-view-export-close"),e(this,"GRADIENT_EXPORT_INPUT_SELECTOR",".gradient-generator-view-export-input"),e(this,"HIDE_OVERLAY_VIEW_CLASS","not-visible"),e(this,"GRADIENT_GENERATOR_DISABLED_CLASS","disabled"),e(this,"GRADIENT_ANGLE_INPUT_SELECTOR",".gradient-generator-frame-angle-input"),e(this,"FRAME_SIZE_INPUT_SELECTOR",".gradient-generator-frame-size-input"),e(this,"STEP_MIN_VALUE",0),e(this,"STEP_MAX_VALUE",100),e(this,"LAST_GRADIENT_DATA_STORAGE_KEY","abs.framerJs.gradientGenerator.lastGeneratedData"),e(this,"GRADIENT_CHANGE_EVENT_NAME",r),e(this,"isComponentInited",!1),e(this,"stepTemplateNode",null),e(this,"templateSteps",[]),e(this,"output",s),e(this,"onChange",new CustomEvent(this.GRADIENT_CHANGE_EVENT_NAME,{})),this.node=t}init(){}customInit(){if(!this.isComponentInited){this.isComponentInited=!this.isComponentInited,this.node.classList.remove(this.GRADIENT_GENERATOR_DISABLED_CLASS),this.stepTemplateNode=document.querySelector(this.STEP_ITEM_TEMPLATE_SELECTOR),this.updateStepsListFromTemplate();const t=JSON.parse(localStorage.getItem(this.LAST_GRADIENT_DATA_STORAGE_KEY));null!==t?this.reloadStoredData(t):this.generateDefaultGradient(),this.sortSteps(),this.templateSteps.forEach((t=>{this.assignEventsToStep(t)})),this.assignGlobalEvents()}}updateStepsListFromTemplate(){this.templateSteps=this.node.querySelectorAll(this.STEP_SELECTOR)}assignEventsToStep(t){const e=t.querySelector(this.STEP_COLOR_PREVIEW_SELECTOR),s=t.querySelector(this.STEP_COLOR_INPUT_SELECTOR),i=t.querySelector(this.STEP_POSITION_INPUT_SELECTOR),r=t.querySelector(this.DELETE_STEP_BUTTON_SELECTOR);s.addEventListener("input",(()=>{this.updateColorPreview(s,e),this.updateOutput()})),s.addEventListener("paste",(t=>{let i=(t.clipboardData||window.clipboardData).getData("text");0===i.indexOf("#")&&(i=i.split("#")[1]||i),s.value=i,this.updateColorPreview(s,e),this.updateOutput()})),i.addEventListener("change",(()=>{this.sortSteps(),this.forceNumberInputLimit(i),this.updateOutput()})),r.addEventListener("click",(()=>{this.deleteStep(t),this.updateOutput()}))}updateColorPreview(t,e){const s=t.value||"000000";e.setAttribute("style",`background-color: #${s};`)}forceNumberInputLimit(t){const e=parseInt(t.getAttribute("min")),s=parseInt(t.getAttribute("max")),i=parseInt(t.value);t.value=i<e?`${e}`:i>s?`${s}`:`${i}`}addNewStep(t){var e,s;const i=null==(e=this.stepTemplateNode)?void 0:e.cloneNode(!0);if(this.node.querySelector(this.STEPS_LIST_SELECTOR).appendChild(i),this.assignEventsToStep(i),t){const e=i.querySelector(this.STEP_COLOR_INPUT_SELECTOR),r=i.querySelector(this.STEP_POSITION_INPUT_SELECTOR);e.value=t.colorCode,r.value=null==(s=null==t?void 0:t.position)?void 0:s.toString(),e.dispatchEvent(new Event("input")),r.dispatchEvent(new Event("change"))}return this.updateStepsListFromTemplate(),this.updateOutput(),i}deleteStep(t){t.remove(),this.updateStepsListFromTemplate(),this.updateOutput()}generateDefaultGradient(){i.forEach((t=>{this.addNewStep({colorCode:t.colorCode,position:t.position})}))}sortSteps(){var t,e,s;const i=document.querySelector(this.STEPS_LIST_SELECTOR);let r,o=!0,n=!1;for(;o;){o=!1;const a=null==i?void 0:i.querySelectorAll(this.STEP_SELECTOR);for(r=0;r<a.length-1;r++){n=!1;const s=null==(t=a[r])?void 0:t.querySelector(this.STEP_POSITION_INPUT_SELECTOR),i=null==(e=a[r+1])?void 0:e.querySelector(this.STEP_POSITION_INPUT_SELECTOR);if((parseInt(null==s?void 0:s.value)+1||9999)>(parseInt(null==i?void 0:i.value)+1||9999)){n=!0;break}}n&&(null==(s=a[r].parentNode)||s.insertBefore(a[r+1],a[r]),o=!0)}}assignGlobalEvents(){const t=this.node.querySelector(this.ADD_STEP_BUTTON_SELECTOR);t.addEventListener("click",(()=>this.addNewStep())),t.addEventListener("click",(()=>this.updateOutput()));const e=this.node.querySelector(this.GRADIENT_EXPORT_INPUT_SELECTOR);e.addEventListener("click",(()=>{e.select();const t=e.value;try{navigator.clipboard.writeText(t)}catch(s){}}));const s=this.node.querySelector(this.GRADIENT_IMPORT_BUTTON_SELECTOR),i=this.node.querySelector(this.GRADIENT_IMPORT_VIEW_SELECTOR).querySelector(this.GRADIENT_IMPORT_VIEW_CLOSE_BUTTON_SELECTOR);null==s||s.addEventListener("click",(()=>{this.importGradient(),i.click()}));const r=this.node.querySelector(this.FRAME_SIZE_INPUT_SELECTOR);null==r||r.addEventListener("input",(()=>{this.output.size=parseInt(r.value),this.updateOutput()}));const o=this.node.querySelector(this.GRADIENT_ANGLE_INPUT_SELECTOR);null==o||o.addEventListener("input",(()=>{this.output.gradient&&(this.output.gradient.angle=parseInt(o.value),this.updateOutput())})),this.assignViewsVisibilityEvents()}assignViewsVisibilityEvents(){const t=this.node.querySelector(this.GRADIENT_IMPORT_VIEW_SELECTOR),e=this.node.querySelector(this.GRADIENT_IMPORT_VIEW_OPEN_BUTTON_SELECTOR),s=t.querySelector(this.GRADIENT_IMPORT_VIEW_CLOSE_BUTTON_SELECTOR),i=this.node.querySelector(this.GRADIENT_EXPORT_VIEW_SELECTOR),r=this.node.querySelector(this.GRADIENT_EXPORT_VIEW_OPEN_BUTTON_SELECTOR),o=i.querySelector(this.GRADIENT_EXPORT_VIEW_CLOSE_BUTTON_SELECTOR);e.addEventListener("click",(()=>{t.classList.remove(this.HIDE_OVERLAY_VIEW_CLASS),i.classList.add(this.HIDE_OVERLAY_VIEW_CLASS)})),s.addEventListener("click",(()=>{t.classList.add(this.HIDE_OVERLAY_VIEW_CLASS)})),r.addEventListener("click",(()=>{i.classList.remove(this.HIDE_OVERLAY_VIEW_CLASS),t.classList.add(this.HIDE_OVERLAY_VIEW_CLASS)})),o.addEventListener("click",(()=>{i.classList.add(this.HIDE_OVERLAY_VIEW_CLASS)}))}reloadStoredData(t){var e,s,i,r,o,n,a;const c=this.node.querySelector(this.FRAME_SIZE_INPUT_SELECTOR),l=this.node.querySelector(this.GRADIENT_ANGLE_INPUT_SELECTOR);((null==t?void 0:t.size)||0===(null==t?void 0:t.size))&&(c.value=t.size.toString()),(null==t?void 0:t.gradient)&&(((null==(e=null==t?void 0:t.gradient)?void 0:e.angle)||0===(null==(s=null==t?void 0:t.gradient)?void 0:s.angle))&&(l.value=t.gradient.angle.toString()),(null==(i=null==t?void 0:t.gradient)?void 0:i.steps)&&(null==(o=null==(r=null==t?void 0:t.gradient)?void 0:r.steps)?void 0:o.length)>0?null==(a=null==(n=null==t?void 0:t.gradient)?void 0:n.steps)||a.forEach((t=>{this.addNewStep(t)})):this.generateDefaultGradient())}updateOutput(){this.output=s,this.output.gradient.steps=[],this.templateSteps.forEach(((t,e)=>{const s=t.querySelector(this.STEP_COLOR_INPUT_SELECTOR).value,i=parseInt(t.querySelector(this.STEP_POSITION_INPUT_SELECTOR).value);s&&i>=0&&i<=100&&this.output.gradient.steps.push({colorCode:s,position:i})}));const t=this.node.querySelector(this.FRAME_SIZE_INPUT_SELECTOR),e=this.node.querySelector(this.GRADIENT_ANGLE_INPUT_SELECTOR);this.output.size=parseInt(t.value),this.output.gradient&&(this.output.gradient.angle=parseInt(e.value)),this.output.gradient.steps.sort(((t,e)=>(t.position+1||9999)-(e.position+1||9999))),localStorage.setItem(this.LAST_GRADIENT_DATA_STORAGE_KEY,JSON.stringify(this.output)),this.updateExport(),this.triggerOutput()}updateExport(){this.node.querySelector(this.GRADIENT_EXPORT_INPUT_SELECTOR).value=JSON.stringify(this.output)}importGradient(){var t,e,s;const i=this.node.querySelector(this.GRADIENT_IMPORT_INPUT_SELECTOR),r=JSON.parse(i.value);this.templateSteps.forEach((t=>this.deleteStep(t))),null==(e=null==(t=r.gradient)?void 0:t.steps)||e.forEach((t=>{const e=this.addNewStep(t);this.assignEventsToStep(e)}));const o=this.node.querySelector(this.GRADIENT_ANGLE_INPUT_SELECTOR);this.node.querySelector(this.FRAME_SIZE_INPUT_SELECTOR).value=(r.size||10).toString(),o.value=((null==(s=r.gradient)?void 0:s.angle)||45).toString(),i.value="",this.sortSteps(),this.updateOutput()}triggerOutput(){this.onChange=new CustomEvent(r,{detail:{profilePictureData:this.output},bubbles:!0,cancelable:!0}),document.dispatchEvent(this.onChange)}}function o(t,e,s,i,r){return(i-s)/(e-t)*(r-t)+s}function n(t){return t*(Math.PI/180)}const a={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},c={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},l={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},d={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},h={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class Utils{static getFirstMatch(t,e){const s=e.match(t);return s&&s.length>0&&s[1]||""}static getSecondMatch(t,e){const s=e.match(t);return s&&s.length>1&&s[2]||""}static matchAndReturnConst(t,e,s){if(t.test(e))return s}static getWindowsVersionName(t){switch(t){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(t){const e=t.split(".").splice(0,2).map((t=>parseInt(t,10)||0));if(e.push(0),10===e[0])switch(e[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(t){const e=t.split(".").splice(0,2).map((t=>parseInt(t,10)||0));if(e.push(0),!(1===e[0]&&e[1]<5))return 1===e[0]&&e[1]<6?"Cupcake":1===e[0]&&e[1]>=6?"Donut":2===e[0]&&e[1]<2?"Eclair":2===e[0]&&2===e[1]?"Froyo":2===e[0]&&e[1]>2?"Gingerbread":3===e[0]?"Honeycomb":4===e[0]&&e[1]<1?"Ice Cream Sandwich":4===e[0]&&e[1]<4?"Jelly Bean":4===e[0]&&e[1]>=4?"KitKat":5===e[0]?"Lollipop":6===e[0]?"Marshmallow":7===e[0]?"Nougat":8===e[0]?"Oreo":9===e[0]?"Pie":void 0}static getVersionPrecision(t){return t.split(".").length}static compareVersions(t,e,s=!1){const i=Utils.getVersionPrecision(t),r=Utils.getVersionPrecision(e);let o=Math.max(i,r),n=0;const a=Utils.map([t,e],(t=>{const e=o-Utils.getVersionPrecision(t),s=t+new Array(e+1).join(".0");return Utils.map(s.split("."),(t=>new Array(20-t.length).join("0")+t)).reverse()}));for(s&&(n=o-Math.min(i,r)),o-=1;o>=n;){if(a[0][o]>a[1][o])return 1;if(a[0][o]===a[1][o]){if(o===n)return 0;o-=1}else if(a[0][o]<a[1][o])return-1}}static map(t,e){const s=[];let i;if(Array.prototype.map)return Array.prototype.map.call(t,e);for(i=0;i<t.length;i+=1)s.push(e(t[i]));return s}static find(t,e){let s,i;if(Array.prototype.find)return Array.prototype.find.call(t,e);for(s=0,i=t.length;s<i;s+=1){const i=t[s];if(e(i,s))return i}}static assign(t,...e){const s=t;let i,r;if(Object.assign)return Object.assign(t,...e);for(i=0,r=e.length;i<r;i+=1){const t=e[i];if("object"==typeof t&&null!==t){Object.keys(t).forEach((e=>{s[e]=t[e]}))}}return t}static getBrowserAlias(t){return a[t]}static getBrowserTypeByAlias(t){return c[t]||""}}const u=/version\/(\d+(\.?_?\d+)+)/i,E=[{test:[/googlebot/i],describe(t){const e={name:"Googlebot"},s=Utils.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,t)||Utils.getFirstMatch(u,t);return s&&(e.version=s),e}},{test:[/opera/i],describe(t){const e={name:"Opera"},s=Utils.getFirstMatch(u,t)||Utils.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,t);return s&&(e.version=s),e}},{test:[/opr\/|opios/i],describe(t){const e={name:"Opera"},s=Utils.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,t)||Utils.getFirstMatch(u,t);return s&&(e.version=s),e}},{test:[/SamsungBrowser/i],describe(t){const e={name:"Samsung Internet for Android"},s=Utils.getFirstMatch(u,t)||Utils.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return s&&(e.version=s),e}},{test:[/Whale/i],describe(t){const e={name:"NAVER Whale Browser"},s=Utils.getFirstMatch(u,t)||Utils.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,t);return s&&(e.version=s),e}},{test:[/MZBrowser/i],describe(t){const e={name:"MZ Browser"},s=Utils.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,t)||Utils.getFirstMatch(u,t);return s&&(e.version=s),e}},{test:[/focus/i],describe(t){const e={name:"Focus"},s=Utils.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,t)||Utils.getFirstMatch(u,t);return s&&(e.version=s),e}},{test:[/swing/i],describe(t){const e={name:"Swing"},s=Utils.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,t)||Utils.getFirstMatch(u,t);return s&&(e.version=s),e}},{test:[/coast/i],describe(t){const e={name:"Opera Coast"},s=Utils.getFirstMatch(u,t)||Utils.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,t);return s&&(e.version=s),e}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(t){const e={name:"Opera Touch"},s=Utils.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,t)||Utils.getFirstMatch(u,t);return s&&(e.version=s),e}},{test:[/yabrowser/i],describe(t){const e={name:"Yandex Browser"},s=Utils.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,t)||Utils.getFirstMatch(u,t);return s&&(e.version=s),e}},{test:[/ucbrowser/i],describe(t){const e={name:"UC Browser"},s=Utils.getFirstMatch(u,t)||Utils.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return s&&(e.version=s),e}},{test:[/Maxthon|mxios/i],describe(t){const e={name:"Maxthon"},s=Utils.getFirstMatch(u,t)||Utils.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,t);return s&&(e.version=s),e}},{test:[/epiphany/i],describe(t){const e={name:"Epiphany"},s=Utils.getFirstMatch(u,t)||Utils.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,t);return s&&(e.version=s),e}},{test:[/puffin/i],describe(t){const e={name:"Puffin"},s=Utils.getFirstMatch(u,t)||Utils.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,t);return s&&(e.version=s),e}},{test:[/sleipnir/i],describe(t){const e={name:"Sleipnir"},s=Utils.getFirstMatch(u,t)||Utils.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,t);return s&&(e.version=s),e}},{test:[/k-meleon/i],describe(t){const e={name:"K-Meleon"},s=Utils.getFirstMatch(u,t)||Utils.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,t);return s&&(e.version=s),e}},{test:[/micromessenger/i],describe(t){const e={name:"WeChat"},s=Utils.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,t)||Utils.getFirstMatch(u,t);return s&&(e.version=s),e}},{test:[/qqbrowser/i],describe(t){const e={name:/qqbrowserlite/i.test(t)?"QQ Browser Lite":"QQ Browser"},s=Utils.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,t)||Utils.getFirstMatch(u,t);return s&&(e.version=s),e}},{test:[/msie|trident/i],describe(t){const e={name:"Internet Explorer"},s=Utils.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,t);return s&&(e.version=s),e}},{test:[/\sedg\//i],describe(t){const e={name:"Microsoft Edge"},s=Utils.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,t);return s&&(e.version=s),e}},{test:[/edg([ea]|ios)/i],describe(t){const e={name:"Microsoft Edge"},s=Utils.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,t);return s&&(e.version=s),e}},{test:[/vivaldi/i],describe(t){const e={name:"Vivaldi"},s=Utils.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,t);return s&&(e.version=s),e}},{test:[/seamonkey/i],describe(t){const e={name:"SeaMonkey"},s=Utils.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,t);return s&&(e.version=s),e}},{test:[/sailfish/i],describe(t){const e={name:"Sailfish"},s=Utils.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,t);return s&&(e.version=s),e}},{test:[/silk/i],describe(t){const e={name:"Amazon Silk"},s=Utils.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,t);return s&&(e.version=s),e}},{test:[/phantom/i],describe(t){const e={name:"PhantomJS"},s=Utils.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,t);return s&&(e.version=s),e}},{test:[/slimerjs/i],describe(t){const e={name:"SlimerJS"},s=Utils.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,t);return s&&(e.version=s),e}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e={name:"BlackBerry"},s=Utils.getFirstMatch(u,t)||Utils.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,t);return s&&(e.version=s),e}},{test:[/(web|hpw)[o0]s/i],describe(t){const e={name:"WebOS Browser"},s=Utils.getFirstMatch(u,t)||Utils.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,t);return s&&(e.version=s),e}},{test:[/bada/i],describe(t){const e={name:"Bada"},s=Utils.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,t);return s&&(e.version=s),e}},{test:[/tizen/i],describe(t){const e={name:"Tizen"},s=Utils.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,t)||Utils.getFirstMatch(u,t);return s&&(e.version=s),e}},{test:[/qupzilla/i],describe(t){const e={name:"QupZilla"},s=Utils.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,t)||Utils.getFirstMatch(u,t);return s&&(e.version=s),e}},{test:[/firefox|iceweasel|fxios/i],describe(t){const e={name:"Firefox"},s=Utils.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,t);return s&&(e.version=s),e}},{test:[/electron/i],describe(t){const e={name:"Electron"},s=Utils.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,t);return s&&(e.version=s),e}},{test:[/MiuiBrowser/i],describe(t){const e={name:"Miui"},s=Utils.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return s&&(e.version=s),e}},{test:[/chromium/i],describe(t){const e={name:"Chromium"},s=Utils.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,t)||Utils.getFirstMatch(u,t);return s&&(e.version=s),e}},{test:[/chrome|crios|crmo/i],describe(t){const e={name:"Chrome"},s=Utils.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,t);return s&&(e.version=s),e}},{test:[/GSA/i],describe(t){const e={name:"Google Search"},s=Utils.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,t);return s&&(e.version=s),e}},{test(t){const e=!t.test(/like android/i),s=t.test(/android/i);return e&&s},describe(t){const e={name:"Android Browser"},s=Utils.getFirstMatch(u,t);return s&&(e.version=s),e}},{test:[/playstation 4/i],describe(t){const e={name:"PlayStation 4"},s=Utils.getFirstMatch(u,t);return s&&(e.version=s),e}},{test:[/safari|applewebkit/i],describe(t){const e={name:"Safari"},s=Utils.getFirstMatch(u,t);return s&&(e.version=s),e}},{test:[/.*/i],describe(t){const e=-1!==t.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:Utils.getFirstMatch(e,t),version:Utils.getSecondMatch(e,t)}}}],p=[{test:[/Roku\/DVP/],describe(t){const e=Utils.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,t);return{name:d.Roku,version:e}}},{test:[/windows phone/i],describe(t){const e=Utils.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,t);return{name:d.WindowsPhone,version:e}}},{test:[/windows /i],describe(t){const e=Utils.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,t),s=Utils.getWindowsVersionName(e);return{name:d.Windows,version:e,versionName:s}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(t){const e={name:d.iOS},s=Utils.getSecondMatch(/(Version\/)(\d[\d.]+)/,t);return s&&(e.version=s),e}},{test:[/macintosh/i],describe(t){const e=Utils.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,t).replace(/[_\s]/g,"."),s=Utils.getMacOSVersionName(e),i={name:d.MacOS,version:e};return s&&(i.versionName=s),i}},{test:[/(ipod|iphone|ipad)/i],describe(t){const e=Utils.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,t).replace(/[_\s]/g,".");return{name:d.iOS,version:e}}},{test(t){const e=!t.test(/like android/i),s=t.test(/android/i);return e&&s},describe(t){const e=Utils.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,t),s=Utils.getAndroidVersionName(e),i={name:d.Android,version:e};return s&&(i.versionName=s),i}},{test:[/(web|hpw)[o0]s/i],describe(t){const e=Utils.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,t),s={name:d.WebOS};return e&&e.length&&(s.version=e),s}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e=Utils.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,t)||Utils.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,t)||Utils.getFirstMatch(/\bbb(\d+)/i,t);return{name:d.BlackBerry,version:e}}},{test:[/bada/i],describe(t){const e=Utils.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,t);return{name:d.Bada,version:e}}},{test:[/tizen/i],describe(t){const e=Utils.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,t);return{name:d.Tizen,version:e}}},{test:[/linux/i],describe:()=>({name:d.Linux})},{test:[/CrOS/],describe:()=>({name:d.ChromeOS})},{test:[/PlayStation 4/],describe(t){const e=Utils.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,t);return{name:d.PlayStation4,version:e}}}],S=[{test:[/googlebot/i],describe:()=>({type:"bot",vendor:"Google"})},{test:[/huawei/i],describe(t){const e=Utils.getFirstMatch(/(can-l01)/i,t)&&"Nova",s={type:l.mobile,vendor:"Huawei"};return e&&(s.model=e),s}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:()=>({type:l.tablet,vendor:"Nexus"})},{test:[/ipad/i],describe:()=>({type:l.tablet,vendor:"Apple",model:"iPad"})},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:()=>({type:l.tablet,vendor:"Apple",model:"iPad"})},{test:[/kftt build/i],describe:()=>({type:l.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"})},{test:[/silk/i],describe:()=>({type:l.tablet,vendor:"Amazon"})},{test:[/tablet(?! pc)/i],describe:()=>({type:l.tablet})},{test(t){const e=t.test(/ipod|iphone/i),s=t.test(/like (ipod|iphone)/i);return e&&!s},describe(t){const e=Utils.getFirstMatch(/(ipod|iphone)/i,t);return{type:l.mobile,vendor:"Apple",model:e}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:()=>({type:l.mobile,vendor:"Nexus"})},{test:[/[^-]mobi/i],describe:()=>({type:l.mobile})},{test:t=>"blackberry"===t.getBrowserName(!0),describe:()=>({type:l.mobile,vendor:"BlackBerry"})},{test:t=>"bada"===t.getBrowserName(!0),describe:()=>({type:l.mobile})},{test:t=>"windows phone"===t.getBrowserName(),describe:()=>({type:l.mobile,vendor:"Microsoft"})},{test(t){const e=Number(String(t.getOSVersion()).split(".")[0]);return"android"===t.getOSName(!0)&&e>=3},describe:()=>({type:l.tablet})},{test:t=>"android"===t.getOSName(!0),describe:()=>({type:l.mobile})},{test:t=>"macos"===t.getOSName(!0),describe:()=>({type:l.desktop,vendor:"Apple"})},{test:t=>"windows"===t.getOSName(!0),describe:()=>({type:l.desktop})},{test:t=>"linux"===t.getOSName(!0),describe:()=>({type:l.desktop})},{test:t=>"playstation 4"===t.getOSName(!0),describe:()=>({type:l.tv})},{test:t=>"roku"===t.getOSName(!0),describe:()=>({type:l.tv})}],g=[{test:t=>"microsoft edge"===t.getBrowserName(!0),describe(t){if(/\sedg\//i.test(t))return{name:h.Blink};const e=Utils.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,t);return{name:h.EdgeHTML,version:e}}},{test:[/trident/i],describe(t){const e={name:h.Trident},s=Utils.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,t);return s&&(e.version=s),e}},{test:t=>t.test(/presto/i),describe(t){const e={name:h.Presto},s=Utils.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,t);return s&&(e.version=s),e}},{test(t){const e=t.test(/gecko/i),s=t.test(/like gecko/i);return e&&!s},describe(t){const e={name:h.Gecko},s=Utils.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,t);return s&&(e.version=s),e}},{test:[/(apple)?webkit\/537\.36/i],describe:()=>({name:h.Blink})},{test:[/(apple)?webkit/i],describe(t){const e={name:h.WebKit},s=Utils.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,t);return s&&(e.version=s),e}}];class Parser{constructor(t,e=!1){if(null==t||""===t)throw new Error("UserAgent parameter can't be empty");this._ua=t,this.parsedResult={},!0!==e&&this.parse()}getUA(){return this._ua}test(t){return t.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const t=Utils.find(E,(t=>{if("function"==typeof t.test)return t.test(this);if(t.test instanceof Array)return t.test.some((t=>this.test(t)));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(t){return t?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const t=Utils.find(p,(t=>{if("function"==typeof t.test)return t.test(this);if(t.test instanceof Array)return t.test.some((t=>this.test(t)));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os}getOSName(t){const{name:e}=this.getOS();return t?String(e).toLowerCase()||"":e||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(t=!1){const{type:e}=this.getPlatform();return t?String(e).toLowerCase()||"":e||""}parsePlatform(){this.parsedResult.platform={};const t=Utils.find(S,(t=>{if("function"==typeof t.test)return t.test(this);if(t.test instanceof Array)return t.test.some((t=>this.test(t)));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(t){return t?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const t=Utils.find(g,(t=>{if("function"==typeof t.test)return t.test(this);if(t.test instanceof Array)return t.test.some((t=>this.test(t)));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return Utils.assign({},this.parsedResult)}satisfies(t){const e={};let s=0;const i={};let r=0;if(Object.keys(t).forEach((o=>{const n=t[o];"string"==typeof n?(i[o]=n,r+=1):"object"==typeof n&&(e[o]=n,s+=1)})),s>0){const t=Object.keys(e),s=Utils.find(t,(t=>this.isOS(t)));if(s){const t=this.satisfies(e[s]);if(void 0!==t)return t}const i=Utils.find(t,(t=>this.isPlatform(t)));if(i){const t=this.satisfies(e[i]);if(void 0!==t)return t}}if(r>0){const t=Object.keys(i),e=Utils.find(t,(t=>this.isBrowser(t,!0)));if(void 0!==e)return this.compareVersion(i[e])}}isBrowser(t,e=!1){const s=this.getBrowserName().toLowerCase();let i=t.toLowerCase();const r=Utils.getBrowserTypeByAlias(i);return e&&r&&(i=r.toLowerCase()),i===s}compareVersion(t){let e=[0],s=t,i=!1;const r=this.getBrowserVersion();if("string"==typeof r)return">"===t[0]||"<"===t[0]?(s=t.substr(1),"="===t[1]?(i=!0,s=t.substr(2)):e=[],">"===t[0]?e.push(1):e.push(-1)):"="===t[0]?s=t.substr(1):"~"===t[0]&&(i=!0,s=t.substr(1)),e.indexOf(Utils.compareVersions(r,s,i))>-1}isOS(t){return this.getOSName(!0)===String(t).toLowerCase()}isPlatform(t){return this.getPlatformType(!0)===String(t).toLowerCase()}isEngine(t){return this.getEngineName(!0)===String(t).toLowerCase()}is(t,e=!1){return this.isBrowser(t,e)||this.isOS(t)||this.isPlatform(t)}some(t=[]){return t.some((t=>this.is(t)))}}
/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class Bowser{static getParser(t,e=!1){if("string"!=typeof t)throw new Error("UserAgent should be a string");return new Parser(t,e)}static parse(t){return new Parser(t).getResult()}static get BROWSER_MAP(){return c}static get ENGINE_MAP(){return h}static get OS_MAP(){return d}static get PLATFORMS_MAP(){return l}}const m=new AbsComponentManager;[GradientGeneratorComponent,class CanvasPrinterComponent{constructor(t){e(this,"FILE_INPUT_SELECTOR",".canvas-printer-image-input"),e(this,"IMAGE_PREVIEW_SELECTOR",".canvas-printer-image-preview"),e(this,"CANVAS_WRAPPER_SELECTOR",".canvas-printer-canvas-wrapper"),e(this,"CANVAS_CLASS","canvas-printer-canvas"),e(this,"CANVAS_SELECTOR","."+this.CANVAS_CLASS),e(this,"imageWidth",NaN),e(this,"imageHeight",NaN),e(this,"canvasSize",NaN),e(this,"_profilePictureFrameData",{}),this.node=t}init(){}ready(){this.node.querySelector(this.FILE_INPUT_SELECTOR).addEventListener("change",(t=>{this.getFile()}))}getFile(){const t=this.node.querySelector(this.FILE_INPUT_SELECTOR),e=this.node.querySelector(this.IMAGE_PREVIEW_SELECTOR),s=t.files&&t.files[0];let i=new FileReader;i.onload=()=>{e.setAttribute("src",i.result)},e.onload=()=>{this.imageWidth=e.width,this.imageHeight=e.height,this.canvasSize=this.imageWidth<this.imageHeight?this.imageWidth:this.imageHeight,this.generateCanvas(),this.printToCanvas(this._profilePictureFrameData)},s&&i.readAsDataURL(s)}printToCanvas(t){const e=this.node.querySelector(this.IMAGE_PREVIEW_SELECTOR),s=this.node.querySelector(this.CANVAS_SELECTOR),r=this.canvasSize/2,a=s.getContext("2d"),c={angle:15,steps:i},l=void 0!==(null==t?void 0:t.size)?null==t?void 0:t.size:10,d=(null==t?void 0:t.gradient)||c;a.clearRect(0,0,this.canvasSize,this.canvasSize),a.strokeStyle="#000000",a.beginPath(),a.arc(r,r,r-1,0,2*Math.PI),a.closePath(),a.fill(),a.globalCompositeOperation="source-in";const h=this.canvasSize-this.imageWidth,u=this.canvasSize-this.imageHeight;a.drawImage(e,0,0,this.imageWidth,this.imageHeight,h/2,u/2,this.imageWidth,this.imageHeight),a.globalCompositeOperation="source-over",function(t,e){var s;const i=document.querySelector("canvas"),r=i.getContext("2d"),a=i.width,c=a/2,l=o(0,100,0,a/2,t),d=c,h=c,u=c-(l-l/2);r.lineWidth=l;const E=-1*(e.angle+90),p=Math.floor(o(-1,1,0,a,Math.sin(n(E)))),S=Math.floor(o(-1,1,0,a,Math.cos(n(E)))),g=Math.floor(o(-1,1,0,a,Math.sin(n(E+180)))),m=Math.floor(o(-1,1,0,a,Math.cos(n(E+180)))),_=r.createLinearGradient(p,S,g,m);null==(s=e.steps)||s.forEach((t=>{var e;try{_.addColorStop((t.position||0)/100,`#${(null==t?void 0:t.colorCode)||"000000"}`)}catch(s){(null==(e=s.message)?void 0:e.includes("Invalid color"))?_.addColorStop((t.position||0)/100,"#000000"):console.error(s)}})),r.strokeStyle=_,r.beginPath(),r.arc(d,h,u,0,2*Math.PI,!1),r.stroke()}(l,d),e.classList.add("hidden")}generateCanvas(){const t=this.node.querySelector(this.CANVAS_WRAPPER_SELECTOR);t.innerHTML="";const e=document.createElement("canvas");e.setAttribute("width",this.canvasSize.toString()),e.setAttribute("height",this.canvasSize.toString()),e.setAttribute("class",this.CANVAS_CLASS),t.appendChild(e),document.addEventListener(r,(t=>{const e=t;this._profilePictureFrameData=e.detail.profilePictureData,this.printToCanvas(this._profilePictureFrameData)}));const s=document.querySelector(`[${m.nodeAttributeSelector}="${GradientGeneratorComponent.name}"]`);m.getComponentByNode(s).customInit()}},class ColorPickerComponent{constructor(t){e(this,"CANVAS_NODE_SELECTOR",".canvas-printer-canvas"),e(this,"CANVAS_NODE",document.querySelector(this.CANVAS_NODE_SELECTOR)),e(this,"isColorPickerModeActive",!1),e(this,"pointedColor",""),e(this,"selectedColor",""),this.node=t}init(){}ready(){this.addColorPickerEvent(),this.addColorSelectorEvent()}addColorPickerEvent(){var t;null==(t=this.CANVAS_NODE)||t.addEventListener("mousemove",(t=>{this.pointedColor=this.isColorPickerModeActive?this.getColorFromCursorPosition(t):""}))}addColorSelectorEvent(){var t;null==(t=this.CANVAS_NODE)||t.addEventListener("click",(t=>{this.selectedColor=this.pointedColor,console.log(this.selectedColor)}))}startColorPickerEvent(){this.isColorPickerModeActive=!0}stopColorPickerEvent(){this.isColorPickerModeActive=!1}getColorFromCursorPosition(t){var e,s;const i=t.currentTarget,r=null==(e=this.CANVAS_NODE)?void 0:e.width,n=t.pageX-i.offsetLeft,a=t.pageY-i.offsetTop,c=o(0,300,0,r,n),l=o(0,300,0,r,a),d=(null==(s=this.CANVAS_NODE)?void 0:s.getContext("2d")).getImageData(c,l,1,1).data;var h,u,E;return h=d[0],u=d[1],E=d[2],(h>-1&&h<256&&u>-1&&u<256&&E>-1&&E<256?(h<<16|u<<8|E).toString(16).toUpperCase():null)||"000000"}},class PageComponent{constructor(t){e(this,"SPLASH_SCREEN_NODE_SELECTOR",".splash"),e(this,"START_BUTTON_SELECTOR",".splash-button-start"),e(this,"GUIDE_BUTTON_SELECTOR",".splash-button-help"),e(this,"GUIDE_VIEW_NODE_SELECTOR",".splash-view-guide"),e(this,"SPLASH_SCREEN_CLOSED_CLASS","closed"),e(this,"SPLASH_SCREEN_HIDDEN_CLASS","hidden"),e(this,"GUIDE_VIEW_VISIBLE_CLASS","visible"),e(this,"SPLASH_SCREEN_VIEWED_STORAGE_KEY","abs.framerJs.splash.alreadySeen"),e(this,"SPLASH_SCREEN_VIEWED_VALUE",!0),this.node=t}init(){}ready(){this.detectDevice(),this.checkforSplashInit(),this.addEventsToSplashButtons()}addEventsToSplashButtons(){const t=document.querySelector(this.SPLASH_SCREEN_NODE_SELECTOR),e=t.querySelector(this.START_BUTTON_SELECTOR),s=t.querySelector(this.GUIDE_BUTTON_SELECTOR);null==e||e.addEventListener("click",(()=>{this.hideSplashScreen()})),null==s||s.addEventListener("click",(()=>{this.showGuideView()}))}hideSplashScreen(){document.querySelector(this.SPLASH_SCREEN_NODE_SELECTOR).classList.add(this.SPLASH_SCREEN_CLOSED_CLASS),sessionStorage.setItem(this.SPLASH_SCREEN_VIEWED_STORAGE_KEY,this.SPLASH_SCREEN_VIEWED_VALUE.toString())}forceHideSplashScreen(){document.querySelector(this.SPLASH_SCREEN_NODE_SELECTOR).classList.add(this.SPLASH_SCREEN_HIDDEN_CLASS)}showGuideView(){document.querySelector(this.SPLASH_SCREEN_NODE_SELECTOR).querySelector(this.GUIDE_VIEW_NODE_SELECTOR).classList.add(this.GUIDE_VIEW_VISIBLE_CLASS)}hideGuideView(){document.querySelector(this.SPLASH_SCREEN_NODE_SELECTOR).querySelector(this.GUIDE_VIEW_NODE_SELECTOR).classList.remove(this.GUIDE_VIEW_VISIBLE_CLASS)}checkforSplashInit(){"true"===sessionStorage.getItem(this.SPLASH_SCREEN_VIEWED_STORAGE_KEY)===this.SPLASH_SCREEN_VIEWED_VALUE&&this.forceHideSplashScreen()}detectDevice(){"desktop"!==Bowser.getParser(window.navigator.userAgent).getPlatformType()&&document.querySelector(".unsupported-device-warning").classList.remove("hidden")}}].forEach((t=>{m.registerComponent(t.prototype.constructor.name,t)})),m.initComponents();
